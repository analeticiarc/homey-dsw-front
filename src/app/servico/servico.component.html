<section class="servico-page">
    <h2 class="servico-title">Serviços</h2>

    @if (servicos.length === 0) {
        <p class="servico-empty">Nenhum serviço encontrado.</p>
        <!-- Debug opcional: mostra o JSON retornado -->
        <pre class="servico-debug">{{ servicos | json }}</pre>
    } @else {
        <div class="servico-list">
            @for (servico of servicos; track servico.id) {
                <article class="servico-card">
                    <h3 class="servico-card__title">{{ servico.titulo }}</h3>

                    <p class="servico-card__descricao">{{ servico.descricao }}</p>

                    <p class="servico-card__info">
                        <strong>Prestador:</strong> {{ servico.prestadorNome }}
                    </p>

                    <p class="servico-card__info">
                        <strong>Preço base:</strong> {{ servico.precoBase | currency:'BRL' }}
                    </p>

                    <p class="servico-card__info">
                        <strong>Status:</strong> {{ servico.disponivel ? 'Disponível' : 'Indisponível' }}
                    </p>

                    @if (servico.categorias?.length) {
                        <p class="servico-categorias">
                            <strong>Categorias:</strong>
                            @for (c of servico.categorias; track c.id) {
                                <span class="servico-categoria">{{ c.nome }}</span>
                            }
                        </p>
                    }

                    <small class="servico-meta">
                        Criado em: {{ servico.dataCriacao | date:'short' }}
                    </small>
                </article>
            }
        </div>
    }
</section>